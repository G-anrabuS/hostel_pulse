{% extends 'base.html' %}

{% block title %}HostelPulse - Rewards{% endblock %}

{% block content %}
<div
    class="min-h-screen bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 dark:from-emerald-900/20 dark:via-teal-900/20 dark:to-cyan-900/20 relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
        <div
            class="absolute top-20 left-20 w-36 h-36 bg-gradient-to-br from-emerald-400 to-teal-500 rounded-full blur-3xl">
        </div>
        <div
            class="absolute top-60 right-10 w-28 h-28 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full blur-2xl">
        </div>
        <div
            class="absolute bottom-40 left-10 w-32 h-32 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full blur-3xl">
        </div>
        <div
            class="absolute bottom-10 right-1/3 w-24 h-24 bg-gradient-to-br from-teal-400 to-cyan-500 rounded-full blur-2xl">
        </div>
    </div>

    <!-- Header -->
    <header class="bg-white dark:bg-gray-800 shadow-sm p-4">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-xl font-bold text-gray-900 dark:text-white">Pulse Points</h1>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-4xl mx-auto p-4 space-y-6 pb-32">
        <!-- Daily Streak -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 text-center">
            <div class="text-4xl mb-2">ğŸ”¥</div>
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-1">{{ daily_streak }}</h2>
            <p class="text-gray-600 dark:text-gray-300">Day Streak</p>
        </div>

        <!-- Progress Bar -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Weekly Goal Progress</h3>
            <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2">
                <div class="bg-blue-600 h-3 rounded-full transition-all duration-500"
                    style="width: {{ progress_bar }}%"></div>
            </div>
            <p class="text-sm text-gray-600 dark:text-gray-300 text-center">{{ progress_bar }}% complete</p>
        </div>

        <!-- Achievements -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">Achievements</h3>
            <div class="space-y-3">
                {% for achievement in achievements %}
                <div
                    class="p-4 rounded-lg border-2 {% if achievement.unlocked %}border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20{% else %}border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800{% endif %}">
                    <div class="flex items-center space-x-3">
                        <div class="text-2xl {% if not achievement.unlocked %}grayscale opacity-50{% endif %}">
                            {% if achievement.unlocked %}ğŸ†{% else %}ğŸ”’{% endif %}
                        </div>
                        <div>
                            <h4
                                class="font-medium {% if achievement.unlocked %}text-gray-900 dark:text-white{% else %}text-gray-500 dark:text-gray-400{% endif %}">
                                {{ achievement.name }}
                            </h4>
                            <p
                                class="text-sm {% if achievement.unlocked %}text-gray-600 dark:text-gray-300{% else %}text-gray-400 dark:text-gray-500{% endif %}">
                                {{ achievement.description }}
                            </p>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </main>

    <!-- Bottom Navigation -->
    {% include 'components/bottom_nav.html' with active_page='rewards' %}
</div>
{% endblock %}